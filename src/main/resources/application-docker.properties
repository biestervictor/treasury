spring.application.name=treasury
spring.mongodb.uri=mongodb://host.docker.internal:27017/treasury
spring.thymeleaf.cache=false

# ------------------------------
# Scraper (Cardmarket) Controls
# ------------------------------
# Zufällige Pause vor Requests
treasury.scraper.jitter.enabled=true
treasury.scraper.jitter.minMs=750
treasury.scraper.jitter.maxMs=2500

# Globaler Mindestabstand zwischen Requests (über alle Threads/Jobs hinweg)
treasury.scraper.throttle.enabled=true
treasury.scraper.throttle.minIntervalMs=2000

# Per-URL Cache (reduziert Requests massiv)
treasury.scraper.cache.enabled=true
treasury.scraper.cache.ttlSeconds=900
treasury.scraper.cache.serveStaleOnError=true
treasury.scraper.cache.maxStaleSeconds=3600

# Backoff wenn Rate-Limit (Error 1015) erkannt wird
treasury.scraper.backoff.enabled=true
treasury.scraper.backoff.baseDelayMs=15000
treasury.scraper.backoff.maxDelayMs=300000
treasury.scraper.backoff.maxRateLimitHits=5
